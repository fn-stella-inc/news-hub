---
// -- news list component - simple static rendering
import ArticleCard from './article-card.astro';
import type { Article } from '../lib/articles';

interface Props {
  articles: Article[];
  category?: string;
}

const { articles, category = 'all' } = Astro.props;
---

<div class="news-list">
  <!-- -- articles grid -->
  <div id="news-grid" class="news-grid">
    {articles.length > 0 ? (
      articles.map((article, index) => (
        <ArticleCard
          slug={article.slug}
          title={article.title}
          excerpt={article.excerpt}
          category={article.category}
          publishedAt={article.publishedAt}
          readingTime={article.readingTime}
          imageUrl={article.imageUrl}
          featured={index === 0}
        />
      ))
    ) : (
      <div class="empty-state">
        <p class="empty-message">No articles found in this category.</p>
        <a href="/news" class="empty-link">View all articles</a>
      </div>
    )}
  </div>
</div>

<style>
  /* -- news list styles - light theme */
  .news-list {
    width: 100%;
  }
  
  .news-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
  }
  
  @media (max-width: 768px) {
    .news-grid {
      grid-template-columns: 1fr;
    }
  }
  
  /* -- empty state */
  .empty-state {
    grid-column: span 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-3xl);
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    text-align: center;
  }
  
  @media (max-width: 768px) {
    .empty-state {
      grid-column: span 1;
    }
  }
  
  .empty-message {
    color: var(--color-text-secondary);
    font-size: var(--text-lg);
    margin-bottom: var(--space-md);
  }
  
  .empty-link {
    color: var(--color-accent-primary);
    font-weight: 600;
    text-decoration: underline;
    text-underline-offset: 2px;
  }
</style>
